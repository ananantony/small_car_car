# === User CMakeLists ===
# 收集 User 下的所有 .c 文件
file(GLOB_RECURSE USER_SOURCES
    ${CMAKE_CURRENT_SOURCE_DIR}/*.c
)

# 添加到主工程
target_sources(${CMAKE_PROJECT_NAME} PRIVATE
    ${USER_SOURCES}
)

# 添加 User 目录及其子目录到 include path
target_include_directories(${CMAKE_PROJECT_NAME} PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}

    ${CMAKE_CURRENT_SOURCE_DIR}/Driver
    ${CMAKE_CURRENT_SOURCE_DIR}/App
    ${CMAKE_CURRENT_SOURCE_DIR}/Utils

    ${CMAKE_CURRENT_SOURCE_DIR}/Driver/motor_ctrl
    ${CMAKE_CURRENT_SOURCE_DIR}/Driver/led
)
